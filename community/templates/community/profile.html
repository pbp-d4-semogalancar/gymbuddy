{% extends 'community/base.html' %}
{% block title %}Profil: {{ profile_user.username }}{% endblock %}
{% block content %}
    <div style="margin-bottom: 20px;"><a href="{% url 'community:thread_list' %}" class="btn">&larr; Kembali ke Semua Thread</a></div>
    <div class="card">
        <h1>Profil: {{ profile_user.username }}</h1>
        <p>Bergabung pada: {{ profile_user.date_joined|date:"d F Y" }}</p>
    </div>
    <div class="card">
        <h3>Threads yang Dibuat ({{ threads.count }})</h3>
        <hr style="border-color: #e4e6eb;">
        {% for thread in threads %}
            <div style="padding: 10px 0; border-bottom: 1px solid #e4e6eb;">
                <h4><a href="{% url 'community:thread_detail' thread.id %}">{{ thread.title }}</a></h4>
                <small style="color:#65676b;">Dibuat pada {{ thread.created_at|date:"d M Y" }}</small>
            </div>
        {% empty %}
            <p>{{ profile_user.username }} belum membuat thread.</p>
        {% endfor %}
    </div>
    <div class="card">
        <h3>Balasan Terakhir ({{ replies.count }})</h3>
        <hr style="border-color: #e4e6eb;">
        {% for reply in replies %}
            <div style="padding: 10px 0; border-bottom: 1px solid #e4e6eb;">
                <p class="reply-content">"{{ reply.content|truncatewords:20 }}"</p>
                <small style="color:#65676b;">Membalas di thread: <a href="{% url 'community:thread_detail' reply.thread.id %}#reply-{{ reply.id }}">{{ reply.thread.title }}</a></small>
            </div>
        {% empty %}
            <p>{{ profile_user.username }} belum pernah membalas.</p>
        {% endfor %}
    </div>
{% endblock %}